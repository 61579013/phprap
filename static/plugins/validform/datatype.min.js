;(function(){if($.Datatype){$.extend($.Tipmsg.w,{"date":"请填写合法日期！","en":"必须以英文字母开头，且只含有英文字母、数字和下划线！","zh":"请填写中文！","dword":"请填写双字节字符！","ipv4":"请填写合法的ip地址！","ipv6":"请填写IPv6地址！","price":"请填写合法的价格！如：1.00","qq":"请填写合法的QQ号码！","unequal":"值不能相等！","notvalued":"不能含有特定值！","idcard":"请填写合法的身份证号码！"});$.extend($.Datatype,{"date":/^(?:(?:1[6-9]|[2-9][0-9])[0-9]{2}([-/.]?)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:(?:1[6-9]|[2-9][0-9])(?:0[48]|[2468][048]|[13579][26])|(?:16|[2468][048]|[3579][26])00)([-/.]?)0?2\2(?:29))(\s+([01][0-9]:|2[0-3]:)?[0-5][0-9]:[0-5][0-9])?$/,"en":/^[a-zA-Z][a-zA-Z0-9_]*$/,"zh":/^[\u4e00-\u9fa5]+$/,"dword":/^[^\x00-\xff]+$/,"ipv4":/^((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){3}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})$/,"ipv6":/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,"price":/^[0-9]+[\.][0-9]{0,5}$/,"version":/^[\d]([\d.]{1,20}){1,20}[\d]$/,"qq":/^[1-9][0-9]{4,}$/,"url":/^(http|https)\:\/\//,"unequal":function(gets,obj,curform,datatype){var withele=$.trim(obj.attr("with"));var val=curform.find(withele+",[name='"+withele+"']").val()||withele;if(gets==$.trim(val)){return false}},"notvalued":function(gets,obj,curform,datatype){var withele=$.trim(obj.attr("with"));var val=curform.find(withele+",[name='"+withele+"']").val()||withele;if(gets.indexOf($.trim(val))!=-1){return false}},"min":function(gets,obj,curform,datatype){var minim=~~obj.attr("min")||2,numselected=curform.find("input[name='"+obj.attr("name")+"']:checked").length;return numselected>=minim?true:"请至少选择"+minim+"项！"},"max":function(gets,obj,curform,datatype){var atmax=~~obj.attr("max")||2,numselected=curform.find("input[name='"+obj.attr("name")+"']:checked").length;if(numselected==0){return false}else if(numselected>atmax){return"最多只能选择"+atmax+"项！"}return true},"byterange":function(gets,obj,curform,datatype){var dregx=/[^\x00-\xff]/g;var maxim=~~obj.attr("max")||100000000,minim=~~obj.attr("min")||0;getslen=gets.replace(dregx,"00").length;if(getslen>maxim){return"输入字符不能多于"+maxim+"个，中文算两个字符！"}if(getslen<minim){return"输入字符不能少于"+minim+"个，中文算两个字符！"}return true},"numrange":function(gets,obj,curform,datatype){var maxim=~~obj.attr("max")||100000000,minim=~~obj.attr("min")||0;gets=gets.replace(/\s*/g,"").replace(/,/g,"");if(!/^\d+\.?\d*$/.test(gets)){return"只能输入数字！"}if(gets<minim){return"值不能小于"+minim+"！"}else if(gets>maxim){return"值不能大于"+maxim+"！"}return true},"daterange":function(gets,obj,curform,datatype){var maxim=new Date(obj.attr("max").replace(/[-\.,]/g,"/")),minim=new Date(obj.attr("min").replace(/[-\.,]/g,"/")),gets=new Date(gets.replace(/[-\.,]/g,"/"));if(!gets.getDate()){return"日期格式不对！"}if(gets>maxim){return"日期不能大于"+obj.attr("max")}if(gets<minim){return"日期不能小于"+obj.attr("min")}return true},"idcard":function(gets,obj,curform,datatype){var Wi=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1];var ValideCode=[1,0,10,9,8,7,6,5,4,3,2];if(gets.length==15){return isValidityBrithBy15IdCard(gets)}else if(gets.length==18){var a_idCard=gets.split("");if(isValidityBrithBy18IdCard(gets)&&isTrueValidateCodeBy18IdCard(a_idCard)){return true}return false}return false;function isTrueValidateCodeBy18IdCard(a_idCard){var sum=0;if(a_idCard[17].toLowerCase()=='x'){a_idCard[17]=10}for(var i=0;i<17;i++){sum+=Wi[i]*a_idCard[i]}valCodePosition=sum%11;if(a_idCard[17]==ValideCode[valCodePosition]){return true}return false}function isValidityBrithBy18IdCard(idCard18){var year=idCard18.substring(6,10);var month=idCard18.substring(10,12);var day=idCard18.substring(12,14);var temp_date=new Date(year,parseFloat(month)-1,parseFloat(day));if(temp_date.getFullYear()!=parseFloat(year)||temp_date.getMonth()!=parseFloat(month)-1||temp_date.getDate()!=parseFloat(day)){return false}return true}function isValidityBrithBy15IdCard(idCard15){var year=idCard15.substring(6,8);var month=idCard15.substring(8,10);var day=idCard15.substring(10,12);var temp_date=new Date(year,parseFloat(month)-1,parseFloat(day));if(temp_date.getYear()!=parseFloat(year)||temp_date.getMonth()!=parseFloat(month)-1||temp_date.getDate()!=parseFloat(day)){return false}return true}}})}else{setTimeout(arguments.callee,10)}})();;